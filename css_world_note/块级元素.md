## 块级元素

### CSS 的造物过程

1. 块级盒子（block-level box）负责结构，内联盒子（inline box）负责内容

   问题:原本以为块级盒子一套就够用了，也就是所有“块级元素”就只有**一个**“块级盒子”，但是，半路杀出个`list-item` ，其默认要显示项目符号的，**一个盒子解释不了**，怎么办?

2. 所有的“块级元素”都有一个“主块级盒子”，list-item 除此之外还有一个“附加盒子”,学名“标记盒子”（marker box），专门用来放圆点、数字这些项目符号

   > **IE浏览器下伪元素不支持list-item 或许就是无法创建这个“标记盒子”导致的。**

   问题:`display:inline-block` 穿着inline 的皮藏着block 的心，现有的几个盒子根本没法解释啊，怎么办？

3. 新增一个盒子，也就是每个元素都两个盒子

   - 外在盒子负责元素是可以一行显示，还是只能换行显示

   - 内在盒子负责宽高、内容呈现等,内在盒子又叫"容器盒子"

     > “外在盒子”除了inline- block，还有run-in(已废弃)

   至此

   - `display:inline-block` 的元素则由外在的“内联盒子”和内在的“块级容器盒子”组成,所以既能和图文一行显示，又能直接设置width/height 了吧,外面的盒子是inline 级别，里面的盒子是block 级别。
   - `display:inline` 的元素, 脑补成display:inline-inline,内外均是“内联盒子”
   - `display:block`  应该脑补成display:block-block,内外均是“块级盒子”
   - `display:table`  应该脑补成display:block-table

### width/height 作用的具体细节

width/height 作用在内在盒子上

#### 深藏不露的width:auto

在CSS 世界中，盒子分“内在盒子”和“外在盒子”，显示也分“内部显示”和“外部显示”，同样地，尺寸也分“内部尺寸”和“外部尺寸”。其中“内部尺寸”英文写作“Intrinsic Sizing”，表示尺寸由内部元素决定；还有一类叫作“外部尺寸”，英文写作“Extrinsic Sizing”，宽度由外部元素决定

|                                                              |                  |                                                              |          |                                             |
| :----------------------------------------------------------- | :--------------- | :----------------------------------------------------------- | :------: | ------------------------------------------: |
| 专有名词                                                     | 场景             | 典型代表                                                     |  内/外   |                                        意义 |
| `fill-available`                                             | 充分利用可用空间 | `<div>`、`<p>`                                               | 外部尺寸 |                  宽度默认是100%于父级容器的 |
| `shrink-to-fit`                                              | 收缩与包裹       | `浮动`、`绝对定位` 、<br>`inline-block ` 元素<br> 或`table ` 元素， | 内部尺寸 | 收缩到合适,包裹性<br>CSS3 中的`fit-content` |
| `preferred minimum` <br>`minimum content width`<br>`min-content` | 收缩到最小       | table-layout 为auto<br> 的表格中                             | 内部尺寸 |                                             |
|                                                              | 超出容器限制     | 内容很长的连续的英文和<br>数字，或者内联                     | 内部尺寸 |                                             |

- 外部尺寸与流体特性

  - 正常流宽度

    谓流动性，并不是看上去的宽度100%显示这么简单，而是一种`margin/border/padding` 
    和`content`  内容区域自动分配水平空间的机制

    垂直导航,下面的代码是**错误**的:

    ```CSS
    a {
    display: block;
    width: 100%;
    }
    ```

    `width: 100%;`是多余的

    应该借助流动性来实现,“鑫三无准则”，即“无宽度，无图片，无浮动”

    `display:block` 应该脑补成`display:block-block`,更规范的脑补应该是`display:block flow` 。注意中间是空格。

  - 格式化宽度

    出现在`position`属性值为`absolute` 或`fixed`  的元素中

    - 默认情况

      宽度表现是“包裹性”，宽度由内部尺寸决定

    - 非默认情况

      对于非替换元素，当`left/right`或`top/bottom`  对立方位的属性值同时存在时，元素的宽度表现为“格式化宽度”，其宽度大小相对于最近的具有定位特性（position 属性值不是static）的祖先元素计算。

- 内部尺寸与流体特性

  - 包裹性

    所谓“自适应性”，指的是元素尺寸由内部元素决定，但永远小于“包含块”容器的尺寸（除非容器尺寸小于元素的“首选最小宽度”）

    - 为何要设计“包裹性”这个东西呢？是为谁设计的呢？

      按钮会自动换行:

      - 实际项目中，按钮上的文字个数比较有限，没机会换行；
      - ` <button>`标签按钮才会自动换行，`<input>`标签按钮，默认`white-space:pre`，是不会换行的，需要将pre 值重置为默认的normal。

      作用: